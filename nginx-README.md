README - nginx-compose

معرفی پروژه  
این پروژه شامل تنظیمات Nginx با استفاده از Docker Compose است که دو سرویس را روی پورت‌های مختلف با SSL و احراز هویت ساده اجرا می‌کند.

ساختار دایرکتوری  
پوشه پروژه شامل فایل‌های زیر است:  
- cert.pem : گواهی SSL  
- key.pem : کلید خصوصی SSL  
- docker-compose.yml : فایل تنظیمات Docker Compose  
- htpasswd : فایل کاربران برای Basic Auth  
- nginx.conf : تنظیمات Nginx  
- local/ : دایرکتوری فایل‌های استاتیک برای سرویس اول  

توضیح فایل‌ها  
docker-compose.yml سرویس nginx را با ایمیج رسمی و متصل به شبکه‌ای به نام ‘mynet’ تعریف می‌کند.  
پورت‌های 8090 و 8008 به صورت محلی باز شده‌اند.

nginx.conf دو سرور تعریف می‌کند:  
- سرور روی پورت 8090: دارای SSL و احراز هویت Basic برای مسیر /local که فایل‌های استاتیک را ارائه می‌دهد.  
- سرور روی پورت 8008: دارای SSL است و درخواست به /net را به گوگل ریدایرکت می‌کند و برای بقیه مسیرها خطای 404 برمی‌گرداند.

cert.pem و key.pem فایل‌های گواهی و کلید SSL برای فعال کردن HTTPS هستند.

htpasswd شامل نام کاربری و رمز عبور برای احراز هویت Basic است.

نحوه اجرا  
1. به دایرکتوری nginx-compose بروید:  
cd /path/to/nginx-compose

2. سرویس‌ها را اجرا کنید:  
docker-compose up -d

3. بررسی کنید که کانتینر nginx در حال اجراست:  
docker ps

4. در مرورگر به آدرس‌های زیر مراجعه کنید:  
https://localhost:8090/local (نیاز به وارد کردن نام کاربری و رمز عبور)  
https://localhost:8008/net (ریدایرکت به گوگل)

نکات امنیتی  
- فایل htpasswd باید شامل رمزهای قوی باشد.  
- دسترسی به فایل‌های cert و key باید محدود شود.  
- تنها پروتکل‌های TLSv1.2 و TLSv1.3 فعال هستند.  
- هدرهای امنیتی X-XSS-Protection و X-Content-Type-Options فعال شده‌اند.
